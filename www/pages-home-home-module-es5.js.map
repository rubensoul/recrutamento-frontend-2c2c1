{"version":3,"sources":["./src/app/pages/home/home.page.html","./src/app/pages/home/home.module.ts","./src/app/pages/home/home.page.scss","./src/app/pages/home/home.page.ts","./src/app/shared/services/clan.service.ts","./src/app/shared/services/request.service.ts"],"names":[],"mappings":"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","file":"pages-home-home-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>\\n      Ionic Blank\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n<!-- Searchbar with cancel button never shown -->\\n  <ion-searchbar type=\\\"text\\\" debounce=\\\"500\\\" showCancelButton=\\\"focus\\\" (ionInput)=\\\"searchRequest($event)\\\" animated>\\n  </ion-searchbar>\\n\\n  <ion-list *ngIf=\\\"content\\\">\\n    <ion-item *ngFor=\\\"let item of content\\\" detail [routerLink]=\\\"['/details', item.id]\\\" routerLinkActive=\\\"router-link-active\\\" >\\n      <ion-label>{{ item.name }} \\n        <p slot=\\\"end\\\">{{ item.score }}</p>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2hvbWUvaG9tZS5wYWdlLnNjc3MifQ== */\"","import { Component } from '@angular/core';\nimport { Subject, Observable, of } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, switchMap, catchError } from 'rxjs/operators';\nimport { ClanService } from 'src/app/shared/services/clan.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage {\n\n  content: Observable<any[]>;\n  private searchTerms: Subject<string> = new Subject<string>();\n\n\n  constructor(\n    private clanService: ClanService\n  ) {}\n\n  // Requisição de todos os valores\n  searchRequest(term: any) {\n    let val = term.target.value\n\n    if (val && val.trim() !== '') {\n      this.searchTerms.next(term.target.value);\n    } else {\n      this.searchTerms.next('');\n    }\n\n    this.searchTerms.pipe(\n      debounceTime(500), // tempo de pausa entre os eventos, assim não faz requisição enquanto o user ainda está escrevendo\n      distinctUntilChanged(), // ignora se o próximo termo de pesquisa for o mesmo que o anterior\n      switchMap(\n        term =>\n          term\n            ? // retorna os valores do observable\n            this.clanService.getClan(term)\n            : // caso retorne vazio\n            of<any>([])\n      ),\n      catchError(error => {\n        // TODO: real error handling\n        return of<any>([]);\n      })\n    ).subscribe(res => {\n      this.content = res;\n    });\n\n  }  \n\n}\n","import { Injectable } from '@angular/core';\nimport { RequestService } from './request.service';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ClanService {\n\n  constructor(\n    private requestService: RequestService,\n  ) { }\n\n  \n  // Get search\n  getClan(name?: string, score?: any): Observable<any> {\n    let params = {\n      'name': name ? name : '',\n      // 'score': score ? score : '',\n    }\n    return this.requestService.get(`search`, params);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpHeaders, HttpErrorResponse, HttpClient } from '@angular/common/http';\nimport { environment } from 'src/environments/environment';\nimport { throwError, Observable } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RequestService {\n\n\n  private header: HttpHeaders;\n  private apiUrl: string;\n  token: any;\n\n  constructor(\n    public http: HttpClient,\n  ) {\n    this.apiUrl = environment.api;\n    // this.prepareHeader();\n  }\n\n  // Cabeçalhos\n  private prepareHeader() {\n\n\n  }\n\n  // Trata o retorno do GET\n  private extractData(res: any) {\n    try {\n      return res || {}\n    } catch (e) {\n      return null\n    }\n  }\n\n  // Retorno do erro\n  private handleError(error: HttpErrorResponse) {\n    return throwError(error);\n  }\n\n  // Get\n  public get(endpoint: string, params = {}, id?: string): Observable<any> {\n    return this.http.get(\n      id ? `${this.apiUrl}${endpoint}${id}` : `${this.apiUrl}${endpoint}`,\n      { headers: this.header, params }\n    )\n      .pipe(map(this.extractData))\n      .pipe(catchError(this.handleError))\n  }\n\n  // Chamada generica dos serviços\n  public genericRequest(type: string, endpoint: string, data: any): Observable<any> {\n    let options = {\n      body: data,\n      headers: this.header\n    }\n    return this.http.request(type, endpoint, options)\n  }\n\n}\n"],"sourceRoot":""}